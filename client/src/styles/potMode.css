/* client/src/styles/potMode.css - PoT Mode 精致化样式 */

/* ========================================
   PoT Mode 核心样式定义（精致化版本）
   ======================================== */

/* 🎯 PoT Mode CSS 变量定义 - 高级感配色 */
:root {
  /* Light Mode - 淡玫瑰金色系 */
  --pot-primary: #D4A574;              /* 淡玫瑰金主色 */
  --pot-primary-dark: #B8956A;         /* 深一点的玫瑰金 */
  --pot-primary-light: #E8C4A0;        /* 浅玫瑰金 */
  
  /* Light Mode 边框效果 - 很淡的玫瑰金 */
  --pot-border-color: rgba(212, 165, 116, 0.25);
  --pot-glow-color: rgba(212, 165, 116, 0.15);
  
  /* Light Mode 背景纹理 - 极淡 */
  --pot-bg-texture: rgba(212, 165, 116, 0.06);
  --pot-bg-gradient-start: rgba(248, 245, 240, 0.7);
  --pot-bg-gradient-mid: rgba(252, 248, 242, 0.5);
  --pot-bg-gradient-end: rgba(250, 246, 240, 0.7);
  
  /* 动画参数 */
  --pot-glow-duration: 2.5s;
  --pot-texture-opacity: 0.04;
}

/* 🌙 Dark Mode - Cyberpunk 紫色系 */
.dark {
  --pot-primary: #A78BFA;              /* Cyberpunk 紫色主色 */
  --pot-primary-dark: #8B5CF6;         /* 深紫色 */
  --pot-primary-light: #C4B5FD;        /* 浅紫色 */
  
  /* Dark Mode 边框效果 - Cyberpunk 紫色 */
  --pot-border-color: rgba(167, 139, 250, 0.3);
  --pot-glow-color: rgba(167, 139, 250, 0.2);
  
  /* Dark Mode 背景纹理 */
  --pot-bg-texture: rgba(167, 139, 250, 0.08);
  --pot-bg-gradient-start: rgba(30, 27, 75, 0.4);
  --pot-bg-gradient-mid: rgba(24, 24, 27, 0.2);
  --pot-bg-gradient-end: rgba(39, 39, 42, 0.4);
  
  /* Dark Mode 纹理透明度 */
  --pot-texture-opacity: 0.06;
}

/* 🌙 系统深色模式偏好检测（回退方案） */
@media (prefers-color-scheme: dark) {
  :root {
    --pot-primary: #A78BFA;
    --pot-primary-dark: #8B5CF6;
    --pot-primary-light: #C4B5FD;
    --pot-border-color: rgba(167, 139, 250, 0.3);
    --pot-glow-color: rgba(167, 139, 250, 0.2);
    --pot-bg-texture: rgba(167, 139, 250, 0.08);
    --pot-bg-gradient-start: rgba(30, 27, 75, 0.4);
    --pot-bg-gradient-mid: rgba(24, 24, 27, 0.2);
    --pot-bg-gradient-end: rgba(39, 39, 42, 0.4);
    --pot-texture-opacity: 0.06;
  }
}

/* ========================================
   PoT Mode 聊天容器样式
   ======================================== */

/* 🔥 PoT Mode 激活的聊天容器 */
.pot-mode-active {
  /* 精致边框 - 强制覆盖所有 Tailwind 样式 */
  border: 1.5px solid var(--pot-border-color) !important;
  
  /* 精致光晕效果 */
  box-shadow: 
    0 0 0 0.5px var(--pot-glow-color),
    0 0 12px var(--pot-glow-color),
    0 0 24px rgba(212, 165, 116, 0.08) !important;
  
  /* 精致背景渐变 - 强制覆盖 */
  background: linear-gradient(
    135deg,
    var(--pot-bg-gradient-start) 0%,
    var(--pot-bg-gradient-mid) 50%,
    var(--pot-bg-gradient-end) 100%
  ) !important;
  
  /* 精致呼吸动画 */
  animation: potGlowBreathingRefined var(--pot-glow-duration) ease-in-out infinite;
  
  /* 过渡效果 */
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* 确保纹理层级 */
  position: relative !important;
  z-index: 1 !important;
}

/* 🌙 Dark Mode 特殊处理 */
.dark .pot-mode-active {
  /* Cyberpunk 紫色边框 */
  border-color: var(--pot-border-color) !important;
  
  /* Cyberpunk 光晕 */
  box-shadow: 
    0 0 0 0.5px var(--pot-glow-color),
    0 0 15px var(--pot-glow-color),
    0 0 30px rgba(167, 139, 250, 0.1) !important;
  
  /* Cyberpunk 背景 */
  background: linear-gradient(
    135deg,
    var(--pot-bg-gradient-start) 0%,
    var(--pot-bg-gradient-mid) 50%,
    var(--pot-bg-gradient-end) 100%
  ) !important;
}

/* 🧠 思维纹理覆盖层 - 修复显示问题 */
.pot-mode-active::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  pointer-events: none !important;
  z-index: -1 !important;
  border-radius: inherit !important;
  
  /* 🧠 精致的神经网络纹理 */
  background-image: 
    /* 神经元节点 - 更精致 */
    radial-gradient(circle at 20% 20%, var(--pot-bg-texture) 1px, transparent 1px),
    radial-gradient(circle at 80% 20%, var(--pot-bg-texture) 0.8px, transparent 0.8px),
    radial-gradient(circle at 40% 40%, var(--pot-bg-texture) 1.2px, transparent 1.2px),
    radial-gradient(circle at 70% 70%, var(--pot-bg-texture) 0.9px, transparent 0.9px),
    radial-gradient(circle at 80% 80%, var(--pot-bg-texture) 1.1px, transparent 1.1px),
    radial-gradient(circle at 20% 80%, var(--pot-bg-texture) 0.7px, transparent 0.7px),
    
    /* 连接线 - 更精致的网络 */
    linear-gradient(135deg, transparent 49%, var(--pot-bg-texture) 49.5%, var(--pot-bg-texture) 50.5%, transparent 51%),
    linear-gradient(45deg, transparent 49%, var(--pot-bg-texture) 49.5%, var(--pot-bg-texture) 50.5%, transparent 51%),
    linear-gradient(90deg, transparent 49.2%, var(--pot-bg-texture) 49.7%, var(--pot-bg-texture) 50.3%, transparent 50.8%),
    linear-gradient(0deg, transparent 49.2%, var(--pot-bg-texture) 49.7%, var(--pot-bg-texture) 50.3%, transparent 50.8%);
  
  background-size: 
    /* 神经元节点大小 - 精致化 */
    100px 100px, 80px 80px, 90px 90px, 110px 110px, 95px 95px, 105px 105px,
    /* 连接线大小 */
    60px 60px, 65px 65px, 50px 50px, 55px 55px;
  
  background-position: 
    /* 神经元节点位置 */
    0 0, 40px 25px, 60px 35px, 25px 70px, 50px 85px, 80px 100px,
    /* 连接线位置 */
    0 0, 30px 30px, 15px 45px, 40px 10px;
  
  opacity: var(--pot-texture-opacity) !important;
  
  /* 微妙动画 */
  animation: potTextureShiftRefined 25s ease-in-out infinite;
}

/* 🌟 精致呼吸光晕动画 */
@keyframes potGlowBreathingRefined {
  0%, 100% {
    box-shadow: 
      0 0 0 0.5px var(--pot-glow-color),
      0 0 8px var(--pot-glow-color),
      0 0 16px rgba(212, 165, 116, 0.06);
  }
  50% {
    box-shadow: 
      0 0 0 1px rgba(212, 165, 116, 0.4),
      0 0 12px var(--pot-glow-color),
      0 0 24px rgba(212, 165, 116, 0.12);
  }
}

/* 🌙 Dark Mode 呼吸动画 */
@keyframes potGlowBreathingCyberpunk {
  0%, 100% {
    box-shadow: 
      0 0 0 0.5px var(--pot-glow-color),
      0 0 10px var(--pot-glow-color),
      0 0 20px rgba(167, 139, 250, 0.08);
  }
  50% {
    box-shadow: 
      0 0 0 1px rgba(167, 139, 250, 0.5),
      0 0 15px var(--pot-glow-color),
      0 0 30px rgba(167, 139, 250, 0.15);
  }
}

.dark .pot-mode-active {
  animation: potGlowBreathingCyberpunk var(--pot-glow-duration) ease-in-out infinite;
}

/* 🌟 精致纹理移动动画 */
@keyframes potTextureShiftRefined {
  0%, 100% {
    transform: translate(0, 0);
  }
  33% {
    transform: translate(0.5px, -0.5px);
  }
  66% {
    transform: translate(-0.5px, 0.5px);
  }
}

/* ========================================
   响应式和设备优化
   ======================================== */

/* 📱 移动端优化 */
@media (max-width: 768px) {
  .pot-mode-active {
    animation: potGlowBreathingMobile var(--pot-glow-duration) ease-in-out infinite;
  }
  
  @keyframes potGlowBreathingMobile {
    0%, 100% {
      box-shadow: 
        0 0 0 0.5px var(--pot-glow-color),
        0 0 6px var(--pot-glow-color),
        0 0 12px rgba(212, 165, 116, 0.05);
    }
    50% {
      box-shadow: 
        0 0 0 1px var(--pot-glow-color),
        0 0 10px var(--pot-glow-color),
        0 0 18px rgba(212, 165, 116, 0.1);
    }
  }
  
  .dark .pot-mode-active {
    animation: potGlowBreathingCyberpunkMobile var(--pot-glow-duration) ease-in-out infinite;
  }
  
  @keyframes potGlowBreathingCyberpunkMobile {
    0%, 100% {
      box-shadow: 
        0 0 0 0.5px var(--pot-glow-color),
        0 0 8px var(--pot-glow-color),
        0 0 16px rgba(167, 139, 250, 0.06);
    }
    50% {
      box-shadow: 
        0 0 0 1px var(--pot-glow-color),
        0 0 12px var(--pot-glow-color),
        0 0 24px rgba(167, 139, 250, 0.12);
    }
  }
  
  .pot-mode-active::before {
    /* 移动端优化纹理 */
    background-size: 
      70px 70px, 60px 60px, 65px 65px, 80px 80px, 70px 70px, 75px 75px,
      45px 45px, 50px 50px, 40px 40px, 42px 42px;
    opacity: calc(var(--pot-texture-opacity) * 1.2) !important;
  }
}

/* 🖥️ 桌面端确保纹理显示 */
@media (min-width: 769px) {
  .pot-mode-active::before {
    display: block !important;
    opacity: var(--pot-texture-opacity) !important;
    z-index: -1 !important;
  }
}

/* ========================================
   其他组件样式保持
   ======================================== */

/* 🏷️ PoT Mode ON 状态文字 */
.pot-status-text {
  background: linear-gradient(45deg, var(--pot-primary), var(--pot-primary-dark));
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  font-weight: 600;
  letter-spacing: 0.025em;
}

/* 💬 PoT Mode 输入框 */
.pot-mode-input {
  border-color: var(--pot-border-color) !important;
  box-shadow: 
    0 0 0 0.5px var(--pot-glow-color),
    0 0 8px rgba(212, 165, 116, 0.1) !important;
  
  background: linear-gradient(
    to right,
    rgba(248, 245, 240, 0.3),
    rgba(252, 248, 242, 0.2),
    rgba(248, 245, 240, 0.3)
  ) !important;
}

.dark .pot-mode-input {
  border-color: var(--pot-border-color) !important;
  box-shadow: 
    0 0 0 0.5px var(--pot-glow-color),
    0 0 8px rgba(167, 139, 250, 0.1) !important;
  
  background: linear-gradient(
    to right,
    rgba(30, 27, 75, 0.3),
    rgba(24, 24, 27, 0.2),
    rgba(30, 27, 75, 0.3)
  ) !important;
}

.pot-mode-input::placeholder {
  color: var(--pot-primary) !important;
  opacity: 0.7 !important;
  font-weight: 500 !important;
}

/* ========================================
   性能优化
   ======================================== */

/* 🚀 GPU 加速 */
.pot-mode-active,
.pot-mode-active::before {
  will-change: box-shadow, opacity, transform;
  transform: translateZ(0);
}

/* 📱 减少动画支持 */
@media (prefers-reduced-motion: reduce) {
  .pot-mode-active,
  .pot-mode-active::before {
    animation: none !important;
  }
}

/* 🔋 低功耗设备优化 */
@media (max-resolution: 144dpi) {
  .pot-mode-active::before {
    opacity: calc(var(--pot-texture-opacity) * 0.5) !important;
  }
}

/* 🌐 浏览器兼容性 */
@supports not (background-clip: text) {
  .pot-status-text {
    color: var(--pot-primary);
    background: none;
  }
}
/* ========================================
   PoT Mode 组件统一配色体系
   ======================================== */

/* 🎯 电源键按钮配色 */
.pot-power-button-on {
  /* Light Mode: 淡玫瑰金 */
  background: linear-gradient(135deg, var(--pot-primary), var(--pot-primary-dark)) !important;
  border-color: var(--pot-primary) !important;
  box-shadow: 0 4px 12px rgba(212, 165, 116, 0.3) !important;
}

.pot-power-button-off {
  /* 统一的OFF状态 */
  background: #9CA3AF !important;
  border-color: #9CA3AF !important;
}

.dark .pot-power-button-on {
  /* Dark Mode: Cyberpunk 紫色 */
  background: linear-gradient(135deg, var(--pot-primary), var(--pot-primary-dark)) !important;
  border-color: var(--pot-primary) !important;
  box-shadow: 0 4px 12px rgba(167, 139, 250, 0.4) !important;
}

.dark .pot-power-button-off {
  background: #6B7280 !important;
  border-color: #6B7280 !important;
}

/* 🎯 电源键激活光晕效果 */
.pot-power-activation-light {
  background: rgba(212, 165, 116, 0.5) !important;
}

.dark .pot-power-activation-light {
  background: rgba(167, 139, 250, 0.5) !important;
}

.pot-power-glow-light {
  background: rgba(212, 165, 116, 0.2) !important;
}

.dark .pot-power-glow-light {
  background: rgba(167, 139, 250, 0.2) !important;
}

/* 🎯 首次引导弹窗配色 */
.pot-first-guide-border {
  border-color: var(--pot-border-color) !important;
}

.pot-first-guide-glow {
  background: var(--pot-glow-color) !important;
}

.pot-first-guide-bg {
  background: rgba(248, 245, 240, 0.3) !important;
}

.dark .pot-first-guide-bg {
  background: rgba(30, 27, 75, 0.3) !important;
}

.pot-first-guide-button {
  background: linear-gradient(135deg, var(--pot-primary), var(--pot-primary-dark)) !important;
  border: none !important;
  color: white !important;
}

.pot-first-guide-button:hover {
  background: linear-gradient(135deg, var(--pot-primary-dark), var(--pot-primary)) !important;
  transform: translateY(-1px) !important;
}

.pot-first-guide-feature-bg {
  background: rgba(212, 165, 116, 0.1) !important;
  border-color: rgba(212, 165, 116, 0.2) !important;
}

.dark .pot-first-guide-feature-bg {
  background: rgba(167, 139, 250, 0.1) !important;
  border-color: rgba(167, 139, 250, 0.2) !important;
}

.pot-first-guide-feature-text {
  color: rgba(212, 165, 116, 0.8) !important;
}

.dark .pot-first-guide-feature-text {
  color: rgba(167, 139, 250, 0.8) !important;
}

/* 🎯 对话框按钮配色 */
.pot-dialog-primary-button {
  background: linear-gradient(135deg, var(--pot-primary), var(--pot-primary-dark)) !important;
  border: none !important;
  color: white !important;
}

.pot-dialog-primary-button:hover {
  background: linear-gradient(135deg, var(--pot-primary-dark), var(--pot-primary)) !important;
}

.pot-dialog-secondary-button {
  background: transparent !important;
  border: 1px solid var(--pot-border-color) !important;
  color: var(--pot-primary) !important;
}

.pot-dialog-secondary-button:hover {
  background: var(--pot-glow-color) !important;
}

/* ========================================
   纹理显示修复
   ======================================== */

/* 🔧 强制纹理显示 - 解决所有平台显示问题 */
.pot-mode-active {
  /* 确保容器层级 */
  position: relative !important;
  z-index: 1 !important;
  isolation: isolate !important;
}

.pot-mode-active::before {
  /* 强制纹理层显示 */
  content: '' !important;
  display: block !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100% !important;
  height: 100% !important;
  pointer-events: none !important;
  z-index: -1 !important;
  border-radius: inherit !important;
  
  /* 🧠 增强的神经网络纹理 - 提高可见性 */
  background-image: 
    /* 神经元节点 - 增强版 */
    radial-gradient(circle at 20% 20%, var(--pot-bg-texture) 1.5px, transparent 2px),
    radial-gradient(circle at 80% 20%, var(--pot-bg-texture) 1px, transparent 1.5px),
    radial-gradient(circle at 40% 40%, var(--pot-bg-texture) 1.3px, transparent 1.8px),
    radial-gradient(circle at 70% 70%, var(--pot-bg-texture) 1.1px, transparent 1.6px),
    radial-gradient(circle at 80% 80%, var(--pot-bg-texture) 1.4px, transparent 1.9px),
    radial-gradient(circle at 20% 80%, var(--pot-bg-texture) 0.9px, transparent 1.4px),
    
    /* 连接线 - 增强版 */
    linear-gradient(135deg, transparent 48.5%, var(--pot-bg-texture) 49%, var(--pot-bg-texture) 51%, transparent 51.5%),
    linear-gradient(45deg, transparent 48.5%, var(--pot-bg-texture) 49%, var(--pot-bg-texture) 51%, transparent 51.5%),
    linear-gradient(90deg, transparent 49%, var(--pot-bg-texture) 49.5%, var(--pot-bg-texture) 50.5%, transparent 51%),
    linear-gradient(0deg, transparent 49%, var(--pot-bg-texture) 49.5%, var(--pot-bg-texture) 50.5%, transparent 51%);
  
  background-size: 
    /* 神经元节点大小 */
    80px 80px, 60px 60px, 70px 70px, 90px 90px, 75px 75px, 85px 85px,
    /* 连接线大小 */
    50px 50px, 55px 55px, 40px 40px, 45px 45px !important;
  
  background-position: 
    /* 神经元节点位置 */
    0 0, 30px 20px, 50px 30px, 20px 60px, 40px 75px, 70px 90px,
    /* 连接线位置 */
    0 0, 25px 25px, 10px 40px, 35px 10px !important;
  
  /* 提高透明度确保可见 */
  opacity: 0.08 !important;
  
  /* 微妙动画 */
  animation: potTextureShiftRefined 25s ease-in-out infinite !important;
}

/* 🌙 Dark Mode 纹理增强 */
.dark .pot-mode-active::before {
  opacity: 0.12 !important;
  background-image: 
    /* 神经元节点 - 紫色系 */
    radial-gradient(circle at 20% 20%, rgba(167, 139, 250, 0.15) 1.5px, transparent 2px),
    radial-gradient(circle at 80% 20%, rgba(167, 139, 250, 0.12) 1px, transparent 1.5px),
    radial-gradient(circle at 40% 40%, rgba(167, 139, 250, 0.14) 1.3px, transparent 1.8px),
    radial-gradient(circle at 70% 70%, rgba(167, 139, 250, 0.11) 1.1px, transparent 1.6px),
    radial-gradient(circle at 80% 80%, rgba(167, 139, 250, 0.16) 1.4px, transparent 1.9px),
    radial-gradient(circle at 20% 80%, rgba(167, 139, 250, 0.10) 0.9px, transparent 1.4px),
    
    /* 连接线 - 紫色系 */
    linear-gradient(135deg, transparent 48.5%, rgba(167, 139, 250, 0.12) 49%, rgba(167, 139, 250, 0.12) 51%, transparent 51.5%),
    linear-gradient(45deg, transparent 48.5%, rgba(167, 139, 250, 0.12) 49%, rgba(167, 139, 250, 0.12) 51%, transparent 51.5%),
    linear-gradient(90deg, transparent 49%, rgba(167, 139, 250, 0.12) 49.5%, rgba(167, 139, 250, 0.12) 50.5%, transparent 51%),
    linear-gradient(0deg, transparent 49%, rgba(167, 139, 250, 0.12) 49.5%, rgba(167, 139, 250, 0.12) 50.5%, transparent 51%) !important;
}

/* 🖥️ 桌面端强制显示 */
@media (min-width: 1024px) {
  .pot-mode-active::before {
    display: block !important;
    visibility: visible !important;
    opacity: 0.06 !important;
  }
  
  .dark .pot-mode-active::before {
    opacity: 0.10 !important;
  }
}

/* 📱 移动端优化 */
@media (max-width: 768px) {
  .pot-mode-active::before {
    opacity: 0.10 !important;
    background-size: 
      60px 60px, 45px 45px, 52px 52px, 67px 67px, 56px 56px, 63px 63px,
      35px 35px, 40px 40px, 30px 30px, 32px 32px !important;
  }
  
  .dark .pot-mode-active::before {
    opacity: 0.14 !important;
  }
}

/* 🎯 平板端适配 */
@media (min-width: 769px) and (max-width: 1023px) {
  .pot-mode-active::before {
    opacity: 0.08 !important;
  }
  
  .dark .pot-mode-active::before {
    opacity: 0.12 !important;
  }
}

/* ========================================
   PoT Mode 问题修复 - 追加到 potMode.css
   ======================================== */

/* 🔧 1. 修复桌面端横向滚动条问题 */
.pot-mode-active {
  /* 强制防止横向滚动 */
  overflow-x: hidden !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

.pot-mode-active * {
  /* 确保所有子元素不会超出容器 */
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* 🔧 2. 修复PoTFirstTimeGuide颜色闪烁问题 */
.pot-first-guide-container {
  /* 预设正确的初始颜色，避免闪烁 */
  background-color: white !important;
  border: 2px solid rgba(212, 165, 116, 0.25) !important;
}

.dark .pot-first-guide-container {
  background-color: rgb(17, 24, 39) !important;
  border: 2px solid rgba(167, 139, 250, 0.3) !important;
}

/* 移除可能导致闪烁的过渡色 */
.pot-first-guide-container * {
  transition: none !important;
}

.pot-first-guide-container.loaded * {
  transition: all 0.2s ease !important;
}

/* 🔧 3. 非全屏状态下"🧠 PoT Mode"文字呼吸样式 */
.pot-mode-label-text {
  background: linear-gradient(
    45deg, 
    var(--pot-primary) 0%, 
    var(--pot-primary-light) 50%, 
    var(--pot-primary-dark) 100%
  ) !important;
  background-size: 200% 200% !important;
  background-clip: text !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  color: transparent !important;
  font-weight: 600 !important;
  letter-spacing: 0.025em !important;
  
  /* 呼吸渐变动画 */
  animation: potLabelGradient 4s ease-in-out infinite !important;
}

@keyframes potLabelGradient {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* 🔧 4. 发送键PoT模式配色 */
.pot-send-button {
  /* Light Mode: 淡玫瑰金渐变 */
  background: linear-gradient(135deg, var(--pot-primary), var(--pot-primary-dark)) !important;
  border: 1px solid var(--pot-primary) !important;
  color: white !important;
  box-shadow: 0 2px 8px rgba(212, 165, 116, 0.3) !important;
  
  /* 悬停效果 */
  transition: all 0.2s ease !important;
}

.pot-send-button:hover {
  background: linear-gradient(135deg, var(--pot-primary-dark), var(--pot-primary)) !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px rgba(212, 165, 116, 0.4) !important;
}

.pot-send-button:active {
  transform: translateY(0) scale(0.98) !important;
}

/* Dark Mode 发送键 */
.dark .pot-send-button {
  /* Cyberpunk 紫色渐变 */
  background: linear-gradient(135deg, var(--pot-primary), var(--pot-primary-dark)) !important;
  border: 1px solid var(--pot-primary) !important;
  box-shadow: 0 2px 8px rgba(167, 139, 250, 0.4) !important;
}

.dark .pot-send-button:hover {
  background: linear-gradient(135deg, var(--pot-primary-dark), var(--pot-primary)) !important;
  box-shadow: 0 4px 12px rgba(167, 139, 250, 0.5) !important;
}

/* 发送键禁用状态保持原有灰色 */
.pot-send-button:disabled {
  background: #9CA3AF !important;
  border-color: #9CA3AF !important;
  color: #6B7280 !important;
  box-shadow: none !important;
  transform: none !important;
  cursor: not-allowed !important;
}

.dark .pot-send-button:disabled {
  background: #6B7280 !important;
  border-color: #6B7280 !important;
  color: #9CA3AF !important;
}

/* ========================================
   额外优化
   ======================================== */

/* 🎯 确保纹理在所有情况下都可见 */
.pot-mode-active::before {
  /* 强制显示 - 解决所有平台问题 */
  display: block !important;
  visibility: visible !important;
  content: '' !important;
  position: absolute !important;
  inset: 0 !important;
  pointer-events: none !important;
  z-index: -1 !important;
  border-radius: inherit !important;
  
  /* 增强纹理可见性 */
  background-image: 
    /* 更明显的神经元节点 */
    radial-gradient(circle at 20% 20%, var(--pot-bg-texture) 2px, transparent 3px),
    radial-gradient(circle at 80% 20%, var(--pot-bg-texture) 1.5px, transparent 2.5px),
    radial-gradient(circle at 40% 40%, var(--pot-bg-texture) 1.8px, transparent 2.8px),
    radial-gradient(circle at 70% 70%, var(--pot-bg-texture) 1.3px, transparent 2.3px),
    radial-gradient(circle at 80% 80%, var(--pot-bg-texture) 2.2px, transparent 3.2px),
    radial-gradient(circle at 20% 80%, var(--pot-bg-texture) 1.2px, transparent 2.2px),
    
    /* 更明显的连接线 */
    linear-gradient(135deg, transparent 47%, var(--pot-bg-texture) 48%, var(--pot-bg-texture) 52%, transparent 53%),
    linear-gradient(45deg, transparent 47%, var(--pot-bg-texture) 48%, var(--pot-bg-texture) 52%, transparent 53%),
    linear-gradient(90deg, transparent 48%, var(--pot-bg-texture) 49%, var(--pot-bg-texture) 51%, transparent 52%),
    linear-gradient(0deg, transparent 48%, var(--pot-bg-texture) 49%, var(--pot-bg-texture) 51%, transparent 52%) !important;
  
  background-size: 
    70px 70px, 50px 50px, 60px 60px, 80px 80px, 65px 65px, 75px 75px,
    40px 40px, 45px 45px, 30px 30px, 35px 35px !important;
  
  background-position: 
    0 0, 25px 15px, 40px 25px, 15px 50px, 30px 65px, 55px 80px,
    0 0, 20px 20px, 8px 35px, 28px 8px !important;
  
  /* 确保可见性 */
  opacity: 0.12 !important;
}

/* Dark Mode 纹理增强 */
.dark .pot-mode-active::before {
  opacity: 0.16 !important;
}